<Window x:Class="DemoServerApplication.UI.Views.EditCredentialHolderWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="EditCredentialHolderWindow" Height="300" Width="300" WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize">
    <Grid Margin="10">
        
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" 
                   Text="Name:"/>

        <TextBox Grid.Row="1" 
                 Margin="0,5,0,0"
                 Name="credentialHolderName" 
                 Text="{Binding CredentialHolderName}"/>

        <TextBlock Grid.Row="2" 
                   Margin="0,5,0,0" 
                   Text="Password:"/>

        <TextBox Grid.Row="3" 
                 Margin="0,5,0,0"
                 Name="credentialHolderPassword"
                 Text="{Binding CredentialHolderPassword}"/>

        <TextBlock Grid.Row="4" 
                   Text="Picture:" 
                   Margin="0,5,0,0"/>

        <Image Grid.Row="5" 
               Margin="0,5,0,0"
               Source="{Binding CredentialHolderPictureBytes}"/>

        <Button Grid.Row="5"
                Command="{Binding SelectImageCommand}"
                Margin="0,5,0,0"
                VerticalAlignment="Center" 
                HorizontalAlignment="Center" 
                Content="Click to change..."
                BorderThickness="0"
                Background="DarkGray"
                Padding="5"
                Foreground="White"/>

        <StackPanel Grid.Row="6" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center">

            <Grid IsEnabled="{Binding ElementName=credentialHolderName, Path=Text.Length, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                <Button Content="OK" 
                        MinWidth="80" 
                        Margin="0,0,5,0"
                        Command="{Binding OKCommand}"
                        IsEnabled="{Binding ElementName=credentialHolderPassword, Path=Text.Length, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>
            </Grid>

            <Button Content="Cancel" 
                    MinWidth="80" 
                    IsCancel="True"
                    Command="{Binding CancelCommand}"/>
        </StackPanel>
    </Grid>
</Window>
