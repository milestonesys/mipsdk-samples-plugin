<Window x:Class="DemoServerApplication.UI.Views.AddMultipleCredentialHoldersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Multiple Credential Holders" Height="170" Width="300" WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize">
    <Grid Margin="10">
        
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0" 
                   Text="Credential holders count:"/>
        
        <TextBox Grid.Row="1"
                 Margin="0,5,0,0"
                 Name="credentialHoldersCount"
                 Text="{Binding CredentialHoldersCount, Mode=TwoWay, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}"/>
        
        <TextBlock Grid.Row="2" 
                   Text="Name prefix:"
                   Margin="0,5,0,0"/>

        <TextBox Grid.Row="3" 
                 Margin="0,5,0,0"
                 Name="credentialHoldersNamePrefix"
                 Text="{Binding CredentialHoldersNamePrefix}"/>
        
        <StackPanel Grid.Row="4" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Margin="0,5,0,0">

            <Grid IsEnabled="{Binding ElementName=credentialHoldersNamePrefix, Path=Text.Length, Mode=OneWay}">
                <Button Content="OK" 
                        MinWidth="80"
                        Margin="0,0,5,0"
                        Command="{Binding OKCommand}">

                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ElementName=credentialHoldersCount, Path=(Validation.HasError), UpdateSourceTrigger=PropertyChanged}" Value="True">
                                    <Setter Property="IsEnabled" Value="False"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>

            <Button Content="Cancel" 
                    MinWidth="80" 
                    IsCancel="True"
                    Command="{Binding CancelCommand}"/>
        </StackPanel>
    </Grid>
</Window>
